<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, max-scale=1.0">
    <title>
        <%= event.event_name %>: Admin Portal</title>
    <link rel="stylesheet" type="text/css" href="/css/bulma.min.css" />
    <link rel="stylesheet" type="text/css" href="/css/fontawesome.min.css">
    <script src="js/jquery.min.js" type="text/javascript"></script>
    <script src="js/admin.js" type="text/javascript"></script>
</head>

<body>
    <nav class="navbar is-dark" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="/">
                <h1><strong>
                        <%= event.event_name %>: Admin Portal</strong></h1>
            </a>

            <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
    </nav>
    <div class="columns is-2">
        <div class="column">
            <strong class="is-size-3">Event</strong>
            <br>
            <h2>Current Name: <strong>
                    <%= event.event_name %></strong> </h2>
            <h2>Current Logo: </h2>
            <img class="icon-top" src="<%= event.event_logo_url%>" width="210mm">
            <form id="event-form" action="/admin/event" method="POST">
                <div class="field">
                    <label class="label">Event Name</label>
                    <div class="control">
                        <input name="event_name" class="input" type="text" placeholder="<%= event.event_name %>">
                    </div>
                </div>

                <div class="field">
                    <label class="label">Logo</label>
                    <div class="control">
                        <div class="file is-small">
                            <label class="file-label">
                                <input id="event-logo-file" class="file-input" type="file" name="event_logo_file">
                                <input id="event-logo" style="display:none" type="text" name="event_logo">
                                <span class="file-cta">
                                    <span class="file-icon">
                                        <i class="fa fa-upload"></i>
                                    </span>
                                    <span class="file-label">
                                        <strong>Choose a file</strong>
                                    </span>
                                </span>
                            </label>
                        </div>
                    </div>
                </div>
                <div id="event-logo-preview-div">
                    <img id="event-logo-preview">
                </div>
                <div class="field">
                    <div class="control">
                        <button class="button is-primary">Submit</button>
                    </div>
                </div>
            </form>
        </div>
        <div class="column">
            <strong class="is-size-3">Council</strong>
            <h2>Current Council: <strong>
                    <%= council.council_name %>
            </h2>
            <h2>Current Logo: </h2>
            <img class="icon-top" src="<%= council.council_logo_url%>" width="210mm">
            <form id="council-form" action="admin/council" method="POST">
                <div class="field">
                    <label class="label">Council Name</label>
                    <div class="control">
                        <input class="input" name="council_name" type="text" placeholder="<%= council.council_name %>">
                    </div>
                </div>

                <div class="field">
                    <label class="label">Logo</label>
                    <div class="control">
                        <div class="file is-small">
                            <label class="file-label">
                                <input id="council-logo-file" class="file-input" type="file" name="council_logo_file">
                                <input id="council-logo" style="display:none" type="text" name="council_logo">
                                <span class="file-cta">
                                    <span class="file-icon">
                                        <i class="fa fa-upload"></i>
                                    </span>
                                    <span class="file-label">
                                        <strong>Choose a file</strong>
                                    </span>
                                </span>
                            </label>
                        </div>
                    </div>
                </div>
                <div id="council-logo-preview-div">
                    <img id="council-logo-preview">
                </div>
                <div class="field">
                    <div class="control">
                        <button class="button is-primary">Submit</button>
                    </div>
                </div>
            </form>
        </div>
        <div class="column">
            <strong class="is-size-3">Users</strong>
            <br>
            <button class="button is-primary modal-button" data-target="#myModal" aria-haspopup="true">Add New User</button>

            <div class="modal" id="myModal">
                <div class="modal-background"></div>
                <div class="modal-content box">
                    <h1><strong>Adding a New User</strong></h1>
                    <form action="something.js" method="POST">
                        <div class="field">
                            <label class="label">Username</label>
                            <div class="control">
                                <input class="input" type="text" placeholder="e.g america">
                            </div>
                        </div>

                        <div class="field">
                            <label class="label">Password</label>
                            <div class="control">
                                <input class="input" type="email" placeholder="Password">
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">Usertype</label>
                            <div class="control">
                                <div class="select">
                                    <select>
                                        <option>Delegate</option>
                                        <option>EB</option>
                                        <option>Admin</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="field">
                            <div class="control">
                                <button class="button is-primary">Submit</button>
                            </div>
                        </div>
                    </form>
                </div>
                <button class="modal-close is-large" aria-label="close"></button>
            </div>

            <hr>
            <div class="card-table">
                <div class="content">
                    <table class="table is-fullwidth is-striped">
                        <tbody>
                            <tr>
                                <td width="5%"><a class="is-small is-primary" href="#"><i class="fa fa-trash-o"></i></a></td>
                                <td>Argentina</td>
                                <td><a class="is-small is-primary" href="#"><i class="fa fa-pencil"></i></a></td>
                            </tr>
                            <tr>
                                <td width="5%"><a class="is-small is-primary" href="#"><i class="fa fa-trash-o"></i></a></td>
                                <td>India</td>
                                <td><a class="is-small is-primary" href="#"><i class="fa fa-pencil"></i></a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    document.querySelectorAll('.modal-button').forEach(function (el) {
        el.addEventListener('click', function () {
            var target = document.querySelector(el.getAttribute('data-target'));

            target.classList.add('is-active');

            target.querySelector('.modal-close').addEventListener('click', function () {
                target.classList.remove('is-active');
            });
        });
    });
</script>

</html>